var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,d,c){b instanceof String&&(b=String(b));for(var e=b.length,a=0;a<e;a++){var h=b[a];if(d.call(c,h,a,b))return{i:a,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,c){b!=Array.prototype&&b!=Object.prototype&&(b[d]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,c,e){if(d){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var a=b[e];a in c||(c[a]={});c=c[a]}b=b[b.length-1];e=c[b];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
(function(){function b(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))&&/youtu\.?be/g.test(a[3])?"youtube":a&&/vimeo/g.test(a[3])?"vimeo":!1}function d(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))?a[6]:!1}function c(a,b){var f=
new XMLHttpRequest;f.open("GET","https://vimeo.com/api/v2/video/"+a+".json",!0);f.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&400>this.status){var a=JSON.parse(this.responseText);b(a[0].thumbnail_large)}};f.send();f=null}var e=function(){var a={};return function(b){var f=$.Deferred();b in a?a[b]?f.resolve(a[b]):f.reject("Preview image not found."):$("<img>").on("load",function(){if(120===(this.naturalWidth||this.width)){var c=this.src.split("/").pop();switch(c){case "maxresdefault.jpg":this.src=
this.src.replace(c,"sddefault.jpg");break;case "sddefault.jpg":this.src=this.src.replace(c,"hqdefault.jpg");break;case "hqdefault.jpg":this.src=this.src.replace(c,"default.jpg");break;default:a[b]=null,f.reject("Preview image not found.")}}else f.resolve(a[b]=this.src)}).attr("src","https://img.youtube.com/vi/"+b+"/maxresdefault.jpg");return f}}();if(!$("html").hasClass("is-builder"))$(document).on("add.cards",function(a){if($(a.target).hasClass("carousel")){var h=$("html").hasClass("desktop");$(a.target).outerFind("[data-bg-video-slide]").each(function(){var a=
d($(this).attr("data-bg-video-slide"));if(a){var k=$('<div class="mbr-background-video-preview"></div>').css({display:"none",backgroundSize:"cover",backgroundPosition:"center"});$(".container-slide",this).before(k);var l=b($(this).attr("data-bg-video-slide")),g=$(this).find(".mbr-overlay");"youtube"===l?(e(a).done(function(a){k.css("background-image",'url("'+a+'")').show()}),h&&$.fn.YTPlayer&&!$(this).find(".playerBox").length&&($(".container-slide",this).before('<div class="mbr-background-video"></div>').prev().YTPlayer({videoURL:a,
containment:"self",showControls:!1,mute:!0}),g.length&&$(".YTPOverlay",this).css({opacity:g.css("opacity"),backgroundColor:g.css("background-color")}),$(this).find(".image_wrapper img").css("opacity","0"),$(this).find(".image_wrapper .mbr-overlay").css("opacity","0"))):(c(a,function(a){k.css("background-image",'url("'+a+'")').show()}),h&&$.fn.vimeo_player&&!$(this).find(".playerBox").length&&($(".container-slide",this).before('<div class="mbr-background-video"></div>').prev().vimeo_player({videoURL:a,
containment:"self",showControls:!1,mute:!0}),g.length&&$(".vimeo_player_overlay",this).css({opacity:g.css("opacity"),backgroundColor:g.css("background-color")})))}});$(a.target).find(".carousel-item iframe").css({transitionProperty:"opacity",transitionDuration:"1000ms"});$(this).on("slide.bs.carousel","section.carousel",function(a){$(a.target).find(".carousel-item.active .mb_YTPlayer").each(function(){$(this).YTPPause()});$(a.target).find(".carousel-item.active .vimeo_player").each(function(){$(this).v_pause()});
$(a.target).find(".carousel-item:not(.active) iframe").css("opacity",0)});$(this).on("slid.bs.carousel","section.carousel",function(a){$(a.target).find(".carousel-item.active .mb_YTPlayer").each(function(){$(this).YTPPlay()});$(a.target).find(".carousel-item.active .vimeo_player").each(function(){$(this).v_play()});$(a.target).find(".carousel-item.active iframe").resize().css("opacity",1)})}})})();
